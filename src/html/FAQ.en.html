<?xml version="1.0" encoding="us-ascii" ?>
<!DOCTYPE html 
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<title>RubyCocoa - FAQ</title>
<meta http-equiv="Content-type" content="text/html; charset=us-ascii" />
<link href="rdtext.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1><a name="label:0" id="label:0">RubyCocoa FAQ</a></h1><!-- RDLabel: "RubyCocoa FAQ" -->
<p>$Date$</p>
<h2><a name="label:1" id="label:1">After Install</a></h2><!-- RDLabel: "After Install" -->
<h3><a name="label:2" id="label:2">Q: I try to execute sample script, but error occured:</a></h3><!-- RDLabel: "Q: I try to execute sample script, but error occured:" -->
<pre>% ruby fontnames.rb
dyld: ruby Undefined symbols:
_init_NSDistributedNotificationCenter
_init_NSScriptStandardSuiteCommands</pre>
<h4><a name="label:3" id="label:3">A: Do you use StuffIt when extracting a tgz file of RubyCocoa ?</a></h4><!-- RDLabel: "A: Do you use StuffIt when extracting a tgz file of RubyCocoa ?" -->
<p>Using StuffIt, long file name to exceed 31 characters when I use
SutffIt has been cut down. And building RubyCocoa was failed. You must
use "tar" command on shell (Terminal application) when extracting the
tgz file:</p>
<pre>% tar zxf rubycocoa-0.1.0.tgz</pre>
<p>And redo installing the RubyCocoa.</p>
<p>(thanks Shimura-san)</p>
<h3><a name="label:4" id="label:4">Q: I look a warning on console when running a RubyCocoa application.</a></h3><!-- RDLabel: "Q: I look a warning on console when running a RubyCocoa application." -->
<p>When running Cocoa application, sometimes warning message about memory
allocation is appeared on Console: </p>
<pre>malloc[2461]: Deallocation of a pointer not malloced: 0x2718b20;
This could be a double free(), or free() called with the middle of
an allocated block; Try setting environment variable MallocHelp to
see tools to help debug</pre>
<h4><a name="label:5" id="label:5">A: It comes out cause unknown and is still unsolved. (2002-01-08)</a></h4><!-- RDLabel: "A: It comes out cause unknown and is still unsolved. (2002-01-08)" -->
<p>Although I thought that this problem was solved by 0.1.2, it still
occurs. If there is information which is likely to be consulted, such
as "surely occurring by this pattern", please tell about.</p>
<h3><a name="label:6" id="label:6">Q: Thread nothing seems to work properly.</a></h3><!-- RDLabel: "Q: Thread nothing seems to work properly." -->
<h4><a name="label:7" id="label:7">A: Do you use release 0.2.1 or later ?</a></h4><!-- RDLabel: "A: Do you use release 0.2.1 or later ?" -->
<p>In release 0.2.1 or later, it's implemented the facility of using Ruby
thread in a RubyCocoa application. For using Ruby thread in a
RubyCocoa application of the older release, Correct "ns_app_main" of
"rb_main.rb" as follows:</p>
<pre>def ns_app_main
  OSX.ruby_thread_switcher_start (0.05)  # switching interval sec
  app = OSX::NSApplication.sharedApplication
  OSX::NSBundle.loadNibNamed_owner (BUNDLE_NAME.to_s, app)
  OSX.NSApp.run
end</pre>
<h3><a name="label:8" id="label:8">Q: launch SimpleApp1, which results in an "SimpleApp1 closed unexpectedly."</a></h3><!-- RDLabel: "Q: launch SimpleApp1, which results in an "SimpleApp1 closed unexpectedly."" -->
<p>I am having problems getting RubyCocoa working. I built and installed
ruby-1.6.5 and RubyCocoa-0.1.2 with no problems.</p>
<p>Following the instructions on:
&lt;http://www.imasy.or.jp/~hisa/mac/rubycocoa/INSTALL.en.html&gt; I encountered
an error when i tried executing: "open SimpleApp1.app", which results in
an "SimpleApp1 closed unexpectedly." The error it quits with is:</p>
<pre>bash-2.05# ./SimpleApp1.app/Contents/MacOS/SimpleApp1
dyld: ./SimpleApp1.app/Contents/MacOS/SimpleApp1 Undefined symbols:
_dlclose
_dlerror
_dlopen
_dlsym</pre>
<p>I run into the same error trying to build the other examples.</p>
<p>fontnames.rb and sndplay?.rb worked with no problems.  Have you any ideas
what is causing this?</p>
<h4><a name="label:9" id="label:9">A: Do you have installed some unix-tools package ?</a></h4><!-- RDLabel: "A: Do you have installed some unix-tools package ?" -->
<p>I guess a dyld library is installed by some unix-tool package in your
MacOS X system, mabye. As I know, this problem seems to occur by the
system which old EasyPackage is installed in.</p>
<p>If my guess is right, two solution methods exists. first way is to
remove dyld library named 'libdl*.bundle' in '/usr/local/lib'. Second
way is setting "-ldl" to linker option in each PB prject or Makefile
files.</p>
<p>The first way may produce side effect in installed other commands. But
second way is troublesome.</p>
<p>you can use 'otool -L' command for printing shared library names that
is required by a RubyCocoa applicatoin binary.</p>
<p>And the
<a href="http://www.ruby-talk.com/cgi-bin/scat.rb/ruby/ruby-talk/29708">[ruby-talk:29708]</a>
will also become reference of solution.</p>
<h2><a name="label:10" id="label:10">Misc.</a></h2><!-- RDLabel: "Misc." -->
<h3><a name="label:11" id="label:11">Q: I want to select RubyCocoa application template in PB.</a></h3><!-- RDLabel: "Q: I want to select RubyCocoa application template in PB." -->
<p>I want to select RubyCocoa application template in Project Builder new
Project menu.</p>
<h4><a name="label:12" id="label:12">A: copy "{rubycocoa srcdir}/template/tmpl_pb_based" to</a></h4><!-- RDLabel: "A: copy "{rubycocoa srcdir}/template/tmpl_pb_based" to" -->
<p>"/Developer/ProjectBuilder Extras/Project Templates/Application/" and
rename "RubyCocoa Application".</p>
<pre>% cd "/Developer/ProjectBuilder Extras/Project Templates/Application"
% cp -R {rubycocoa srcdir}/template/tmpl_pb_based "RubyCocoa Application"</pre>
<p>(thanks Shimura-san)</p>

</body>
</html>
